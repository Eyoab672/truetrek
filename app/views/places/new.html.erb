<div class="container py-4">
  <h2 class="mb-3">Create a new place</h2>

  <%= form_with model: @place, local: true do |f| %>
    <div class="mb-3">
      <%= f.label :title, class: "form-label" %>
      <%= f.text_field :title, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :enhanced_description, "Description", class: "form-label" %>
      <%= f.text_area :enhanced_description, rows: 4, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :address, class: "form-label" %>
      <%= f.text_field :address, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :city_id, "City", class: "form-label" %>
      <%= f.collection_select :city_id, City.all, :id, :name,
            { selected: @place.city_id, prompt: "Select a city" },
            { class: "form-select" } %>
      <% if @auto_city.present? %>
        <small class="text-muted">
          Auto-selected from your location: <strong><%= @auto_city.name %></strong>
        </small>
      <% end %>
    </div>

    <% if @camera_blob_id.present? %>
      <div class="mb-3">
        <p class="form-label">Photo from camera</p>
        <%= image_tag url_for(ActiveStorage::Blob.find_signed(@camera_blob_id)),
                      class: "img-fluid mb-2 border rounded" %>
        <%= f.hidden_field :camera_blob_id, value: @camera_blob_id %>
      </div>
    <% end %>

    <%= f.submit "Create place", class: "btn btn-primary w-100" %>
  <% end %>
</div>
